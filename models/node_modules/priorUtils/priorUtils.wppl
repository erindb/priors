var foreach = function(lst, fn) {
    var foreach_ = function(i) {
        if (i < lst.length) {
            fn(lst[i]);
            foreach_(i + 1);
        }
    };
    foreach_(0);
};

var subset = function(df, field, value){
	return filter(function(d){
		return (d[field]==value)
	},df)
}

var marginalizeERP = function(myERP, label){
    Enumerate(function(){
        var x = sample(myERP)
        return x[label]
    })
}
// var Priordata = Priordata0.slice(0, Priordata0.length-1)

var dataFrame = function(d){
    return map(
        function(lst){
            return _.object(_.zip(d[0],lst))
        },
        d.slice(1))
}

var lstMultiply = function(lst, s){
    return map(function(x){return x*s}, lst)
}